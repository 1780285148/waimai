(function(t){function e(e){for(var i,s,a=e[0],c=e[1],l=e[2],p=0,h=[];p<a.length;p++)s=a[p],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&h.push(r[s][0]),r[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(h.length)h.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,a=1;a<n.length;a++){var c=n[a];0!==r[c]&&(i=!1)}i&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},r={app:0},o=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0641":function(t,e,n){"use strict";n("39c8")},"06b6":function(t,e,n){"use strict";n("0f85")},"070e":function(t,e,n){},"0f85":function(t,e,n){},"13cd":function(t,e,n){"use strict";n("070e")},"171e":function(t,e,n){t.exports=n.p+"img/head.260715b2.jpg"},"1ad9":function(t,e,n){},"39c8":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],s={name:"app",data:function(){return{active:0}}},a=s,c=n("2877"),l=Object(c["a"])(a,r,o,!1,null,null,null),u=l.exports,p=n("8c4f"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"index"}},[n("van-nav-bar",{attrs:{title:"山东商业职业技术学院",fixed:"",placeholder:""},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight},scopedSlots:t._u([{key:"left",fn:function(){return[n("van-icon",{attrs:{name:"search",size:"18"}})]},proxy:!0},{key:"right",fn:function(){return[0==t.isLogin?n("div",{staticClass:"logButton"},[t._v(" 登录|注册 ")]):n("van-icon",{attrs:{name:"weapp-nav",size:"24"}})]},proxy:!0}])}),n("van-swipe",{staticClass:"my-swipe",attrs:{"indicator-color":"#00a67c"}},t._l(2,(function(e,i){return n("van-swipe-item",{key:i},[n("van-grid",{attrs:{clickable:"","column-num":4,square:""}},t._l(t.routeList,(function(e,i){return n("van-grid-item",{key:i,attrs:{icon:t.baseUrl+"/"+e.photo,text:e.name,to:"/"}})})),1)],1)})),1),n("div",{staticClass:"shopperList"},[n("van-pull-refresh",{attrs:{"van-clearfix":""},on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.getShoppers},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.shopperList,(function(e){return n("van-cell",{key:e.id},[n("van-card",{attrs:{price:"20起送",thumb:t.baseUrl+"/"+e.photo},on:{click:function(n){return t.toShopper(e.id)}},scopedSlots:t._u([{key:"title",fn:function(){return[n("div",[n("van-tag",{attrs:{size:"large",type:"warning"}},[t._v("品牌")]),n("span",{staticClass:"shopperTitle"},[t._v(t._s(e.name))]),n("div",{staticStyle:{float:"right"}},[n("van-tag",{attrs:{plain:"",type:"danger"}},[t._v("准")]),n("van-tag",{staticStyle:{margin:"5px"},attrs:{plain:"",type:"danger"}},[t._v("保")]),n("van-tag",{attrs:{plain:"",type:"danger"}},[t._v("票")])],1)],1)]},proxy:!0},{key:"desc",fn:function(){return[n("van-rate",{attrs:{readOnly:"",count:5,"allow-half":"",value:e.goodsScore,size:12}}),n("b",[t._v(" "+t._s(e.goodsScore))]),n("div",{staticStyle:{color:"#f2a248"}},[t._v(" 月销量"+t._s(e.sales)+"单")])]},proxy:!0},{key:"price",fn:function(){return[t._v(" ￥"+t._s(e.minPrice)+"起送 / 配送费约￥"+t._s(e.transportationPrice)+" ")]},proxy:!0}],null,!0)})],1)})),1)],1)],1),n("van-share-sheet",{attrs:{title:"立即分享给好友",options:t.options},model:{value:t.showShare,callback:function(e){t.showShare=e},expression:"showShare"}}),n("nav-com")],1)},d=[],f=n("5530"),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"nav"}},[n("van-tabbar",{attrs:{route:"","active-color":"#00a67c",placeholder:""}},[n("van-tabbar-item",{attrs:{replace:"",to:"/",icon:"wap-home"}},[t._v("首页")]),n("van-tabbar-item",{attrs:{replace:"",to:"/Search",icon:"photograph"}},[t._v("搜索")]),n("van-tabbar-item",{attrs:{replace:"",to:"/Order",icon:"cart"}},[t._v("订单")]),n("van-tabbar-item",{attrs:{replace:"",to:"/Me",icon:"manager"}},[t._v("我的")])],1)],1)},g=[],m={},y=Object(c["a"])(m,v,g,!1,null,null,null),b=y.exports,_=n("2f62"),x={name:"index",components:{navCom:b},computed:Object(f["a"])({},Object(_["b"])(["isLogin"])),data:function(){return{baseUrl:"http://47.95.13.193:80/takeOutSystem-1.0-SNAPSHOT",routeList:[],shopperList:[],loading:!1,finished:!1,refreshing:!1,showShare:!1,options:[[{name:"微信",icon:"wechat"},{name:"朋友圈",icon:"wechat-moments"},{name:"微博",icon:"weibo"},{name:"QQ",icon:"qq"}],[{name:"复制链接",icon:"link"},{name:"分享海报",icon:"poster"},{name:"二维码",icon:"qrcode"},{name:"小程序码",icon:"weapp-qrcode"}]]}},created:function(){var t=this;this.$axios.post("/biz/queryBigCategory").then((function(e){console.log(e.data),t.routeList=e.data}))},methods:{onClickLeft:function(){this.$router.push("/Search")},onClickRight:function(){0==this.isLogin?this.$router.push("/Login"):this.showShare=!this.showShare},toShopper:function(t){this.$router.push({name:"shopper",params:{id:t}})},onRefresh:function(){this.finished=!1,this.loading=!0,this.getShoppers()},getShoppers:function(){var t=this;this.refreshing&&(this.shopperList=[]),this.$axios.get("/biz/queryAllShopsInfo").then((function(e){t.shopperList=e.data,t.loading=!1,t.finished=!0,t.refreshing=!1}))}}},S=x,k=(n("06b6"),Object(c["a"])(S,h,d,!1,null,"38efd824",null)),w=k.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"search"}},[n("van-nav-bar",{attrs:{title:"搜索",fixed:"",placeholder:""}}),n("van-search",{attrs:{clearable:"","show-action":"",placeholder:"请输入搜索关键词"},on:{input:t.onSearch,search:t.onSearch},scopedSlots:t._u([{key:"action",fn:function(){return[n("div",{on:{click:t.onSearch}},[t._v("搜索")])]},proxy:!0}]),model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),n("div",{staticClass:"shopperList"},t._l(t.searchList,(function(e,i){return n("van-card",{key:i,attrs:{price:"20起送",thumb:t.baseUrl+"/"+e.photo},on:{click:function(n){return t.toShopper(e.id)}},scopedSlots:t._u([{key:"title",fn:function(){return[n("div",[n("van-tag",{attrs:{size:"large",type:"warning"}},[t._v("品牌")]),n("span",{staticClass:"shopperTitle"},[t._v(t._s(e.name))]),n("div",{staticStyle:{float:"right"}},[n("van-tag",{attrs:{plain:"",type:"danger"}},[t._v("准")]),n("van-tag",{staticStyle:{margin:"5px"},attrs:{plain:"",type:"danger"}},[t._v("保")]),n("van-tag",{attrs:{plain:"",type:"danger"}},[t._v("票")])],1)],1)]},proxy:!0},{key:"desc",fn:function(){return[n("van-rate",{attrs:{readOnly:"",count:5,"allow-half":"",value:e.goodsScore,size:12}}),n("b",[t._v(" "+t._s(e.goodsScore))]),n("span",{staticStyle:{color:"#f2a248"}},[t._v(" 月销量"+t._s(e.sales)+"单")])]},proxy:!0},{key:"price",fn:function(){return[t._v(" ￥"+t._s(e.minPrice)+"起送 / 配送费约￥"+t._s(e.transportationPrice)+" ")]},proxy:!0}],null,!0)})})),1),n("nav-com")],1)},U=[],O=(n("ac1f"),n("5319"),{name:"search",components:{navCom:b},data:function(){return{baseUrl:"http://47.95.13.193:80/takeOutSystem-1.0-SNAPSHOT",searchValue:"",searchList:[]}},created:function(){this.onSearch()},methods:{toShopper:function(t){this.$router.push({name:"shopper",params:{id:t}})},onSearch:function(){var t=this,e=this.searchValue.replace(/\s*/g,""),n="/biz/queryAllShopsInfo";null!=e&&""!=e&&(n="/biz/queryAllShopsInfoByName?name="+e),this.$axios.get(n).then((function(e){t.searchList=e.data}))}}}),$=O,L=(n("0641"),Object(c["a"])($,C,U,!1,null,"35641065",null)),z=L.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-nav-bar",{attrs:{title:"订单",fixed:"",placeholder:""}}),0==t.isLogin?n("div",[n("van-empty",{attrs:{description:"您还未登录"}},[n("van-button",{attrs:{type:"primary",color:"#00a67c"},on:{click:function(e){return t.$router.push({path:"/Login"})}}},[t._v("立即登录")])],1)],1):n("div",[n("van-tabs",[n("van-tab",{attrs:{title:"外卖订单"}},[0==t.orderList.length?n("van-empty",{attrs:{description:"暂无外卖订单"}}):n("van-pull-refresh",{attrs:{"van-clearfix":""},on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.getOrderList},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.orderList,(function(e,i){return n("van-cell",{key:i},[n("van-swipe-cell",{scopedSlots:t._u([{key:"right",fn:function(){return[n("van-button",{staticStyle:{height:"100%"},attrs:{square:"",type:"primary",text:"再来一单"}}),n("van-button",{staticStyle:{height:"100%"},attrs:{square:"",type:"danger",text:"删除订单"},on:{click:function(n){return t.removeOrder(e.id)}}})]},proxy:!0}],null,!0)},[n("van-card",{attrs:{thumb:"https://img01.yzcdn.cn/vant/ipad.jpeg"},on:{click:function(n){return t.getShopList(e.list)}},scopedSlots:t._u([{key:"title",fn:function(){return[n("b",{staticStyle:{"font-size":"16px"}},[t._v(t._s(e.shopName))])]},proxy:!0},{key:"desc",fn:function(){return[n("p",[t._v("共含"+t._s(e.list.length)+"种商品")])]},proxy:!0},{key:"num",fn:function(){return[t._v("创建时间："+t._s(e.roderTime))]},proxy:!0}],null,!0)})],1)],1)})),1)],1),n("van-action-sheet",{attrs:{title:"订单详情","cancel-text":"取消"},model:{value:t.listShow,callback:function(e){t.listShow=e},expression:"listShow"}},[n("div",{staticClass:"content"},t._l(t.shopList,(function(e,i){return n("van-card",{key:i,attrs:{num:e.buyCount,price:"9.00",desc:e.foodInfo,thumb:t.baseUrl+"/"+e.foodPhoto},scopedSlots:t._u([{key:"title",fn:function(){return[n("b",{staticStyle:{"font-size":"14px"}},[t._v(t._s(e.foodName))])]},proxy:!0}],null,!0)})})),1)])],1),n("van-tab",{attrs:{title:"待评价"}},[n("van-empty",{attrs:{description:"暂无待评价的订单"}})],1),n("van-tab",{attrs:{title:"已退款"}},[n("van-empty",{attrs:{description:"暂无已退款订单"}})],1),n("van-tab",{attrs:{title:"其他订单"}},[n("van-empty",{attrs:{description:"暂无其他订单"}})],1)],1)],1),n("nav-com")],1)},j=[],P=(n("a9e3"),{name:"order",components:{navCom:b},data:function(){return{baseUrl:"http://47.95.13.193:80/takeOutSystem-1.0-SNAPSHOT",orderList:[],loading:!1,finished:!1,refreshing:!1,listShow:!1,shopList:[]}},created:function(){this.$store.commit("ifIsLogin"),this.getOrderList()},computed:Object(f["a"])({},Object(_["b"])(["isLogin","loginUser"])),methods:{removeOrder:function(t){var e=this;this.$dialog.confirm({title:"提示",message:"确认要删除吗？"}).then((function(){console.log(1),e.$axios.get("/biz/deleteOrderByOid?orderId="+t).then((function(t){Number(t.data)>0?(e.$toast.success("删除成功"),e.onRefresh()):e.$toast.fail("删除失败")}))})).catch((function(){console.log(0)}))},getShopList:function(t){this.listShow=!this.listShow,this.shopList=t},onRefresh:function(){this.finished=!1,this.loading=!0,this.getOrderList()},getOrderList:function(){var t=this;1==this.isLogin&&(this.refreshing&&(this.shopperList=[]),this.$axios.get("/biz/queryOrdersByUserId?userId="+this.loginUser.id).then((function(e){t.orderList=e.data,t.loading=!1,t.finished=!0,t.refreshing=!1})))}}}),N=P,A=Object(c["a"])(N,I,j,!1,null,null,null),q=A.exports,D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"me"}},[i("van-nav-bar",{attrs:{title:"我的",fixed:"",placeholder:""}}),i("div",{staticClass:"header-box"},[i("div",{staticStyle:{float:"left","margin-right":"5vw"}},[1==t.isLogin?i("van-image",{attrs:{round:"",width:"10vh",height:"10vh",fit:"cover",src:n("171e")}}):i("van-image",{attrs:{round:"",width:"10vh",height:"10vh",fit:"cover",src:"https://img01.yzcdn.cn/vant/cat.jpeg"}})],1),i("div",{staticClass:"header-box-title"},[0==t.isLogin?i("div",{staticClass:"header-box-title-top"},[i("router-link",{attrs:{to:"/Login"}},[t._v("登录/注册")])],1):i("div",{staticClass:"header-box-title-top van-ellipsis"},[t._v(t._s(t.loginUser.name||t.loginUser.account))]),i("div",{staticClass:"header-box-title-bottom"},[i("van-icon",{attrs:{name:"graphic"}}),t._v(" 暂未绑定手机号 ")],1)]),i("div",{staticStyle:{float:"right",height:"10vh","line-height":"10vh"}},[1==t.isLogin?i("van-icon",{attrs:{name:"arrow"},on:{click:function(e){t.showLogout=!t.showLogout}}}):i("van-icon",{attrs:{name:"arrow"}})],1)]),i("div",{staticClass:"middle",staticStyle:{"margin-bottom":"2vh"}},[i("van-grid",{attrs:{"column-num":3}},[i("van-grid-item",[i("van-cell",{attrs:{label:"我的余额"},scopedSlots:t._u([{key:"title",fn:function(){return[i("b",{staticStyle:{color:"#f2a141","font-size":"25px"}},[t._v("0.00 ")]),i("b",[t._v(" 元")])]},proxy:!0}])})],1),i("van-grid-item",[i("van-cell",{attrs:{label:"我的优惠"},scopedSlots:t._u([{key:"title",fn:function(){return[i("b",{staticStyle:{color:"#ed6e50","font-size":"25px"}},[t._v("0 ")]),i("b",[t._v(" 个")])]},proxy:!0}])})],1),i("van-grid-item",[i("van-cell",{attrs:{label:"我的积分"},scopedSlots:t._u([{key:"title",fn:function(){return[i("b",{staticStyle:{color:"#83c041","font-size":"25px"}},[t._v("0 ")]),i("b",[t._v(" 分")])]},proxy:!0}])})],1)],1)],1),i("van-cell",{attrs:{center:"","is-link":""},scopedSlots:t._u([{key:"icon",fn:function(){return[i("van-icon",{attrs:{name:"notes-o",color:"#36d7b7",size:"18"}})]},proxy:!0},{key:"title",fn:function(){return[i("b",{staticStyle:{margin:"5px"}},[t._v(" 我的订单")])]},proxy:!0}])}),i("van-cell",{attrs:{center:"","is-link":""},scopedSlots:t._u([{key:"icon",fn:function(){return[i("van-icon",{attrs:{name:"points",color:"#ed6e50",size:"18"}})]},proxy:!0},{key:"title",fn:function(){return[i("b",{staticStyle:{margin:"5px"}},[t._v(" 积分商城")])]},proxy:!0}])}),i("van-cell",{attrs:{center:"","is-link":""},scopedSlots:t._u([{key:"icon",fn:function(){return[i("van-icon",{attrs:{name:"medal-o",color:"#f2a141",size:"18"}})]},proxy:!0},{key:"title",fn:function(){return[i("b",{staticStyle:{margin:"5px"}},[t._v(" 小zhang的外卖会员卡")])]},proxy:!0}])}),i("van-cell",{attrs:{center:"","is-link":""},scopedSlots:t._u([{key:"icon",fn:function(){return[i("van-icon",{attrs:{name:"shop",color:"#00a67c",size:"18"}})]},proxy:!0},{key:"title",fn:function(){return[i("b",{staticStyle:{margin:"5px"}},[t._v(" 服务中心")])]},proxy:!0}])}),i("van-action-sheet",{attrs:{actions:[{name:"退出登录"}],"cancel-text":"取消",round:!1},on:{select:t.logout},model:{value:t.showLogout,callback:function(e){t.showLogout=e},expression:"showLogout"}}),i("nav-com")],1)},M=[],T={name:"me",components:{navCom:b},computed:Object(f["a"])({},Object(_["b"])(["isLogin","loginUser"])),created:function(){this.$store.commit("ifIsLogin")},data:function(){return{showLogout:!1}},methods:{logout:function(t,e){var n=this;console.log(e),console.log(t),this.$dialog.confirm({title:"提示",message:"您确定要退出登录吗"}).then((function(){console.log(1),n.$store.commit("ifIsLogout"),n.$router.push({path:"/"})})).catch((function(){console.log(0)}))}}},R=T,H=(n("cdff"),Object(c["a"])(R,D,M,!1,null,"1947a705",null)),B=H.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"shopper"}},[n("van-nav-bar",{attrs:{"left-text":"返回","left-arrow":"","z-index":"0"},on:{"click-left":t.onClickLeft}}),n("div",{staticStyle:{width:"20vw",margin:"0 auto","margin-top":"-4vh"}},[n("van-image",{attrs:{width:"20vw",height:"20vw",fit:"cover",src:t.baseUrl+"/"+t.shopperDetails.photo}})],1),n("van-row",{attrs:{type:"flex",justify:"center"}},[n("van-col",{attrs:{span:"12"}},[n("van-cell",{attrs:{center:""},scopedSlots:t._u([{key:"title",fn:function(){return[n("div",{staticClass:"van-ellipsis",staticStyle:{width:"100%","text-again":"center"}},[n("van-tag",{attrs:{type:"warning",size:"medium"}},[t._v("品牌")]),n("span",{staticClass:"custom-title"},[t._v(" "+t._s(t.shopperDetails.name))])],1)]},proxy:!0},{key:"right-icon",fn:function(){return[n("van-icon",{attrs:{name:"play",size:"25"}})]},proxy:!0}])})],1)],1),n("van-row",{attrs:{type:"flex",justify:"center"}},[n("van-col",{attrs:{span:"18"}},[t._v(t._s(t.shopperDetails.goodsScore)+" 月售"+t._s(t.shopperDetails.sales)+"单 联想教育 约"+t._s(t.shopperDetails.transportationPrice)+"分钟 距离"+t._s(t.shopperDetails.distance)+"米")])],1),n("van-row",{attrs:{type:"flex",justify:"center"}},[n("van-col",{attrs:{span:"14"}},[n("van-cell",{attrs:{center:"","is-link":"","arrow-direction":"down"},on:{click:function(e){t.show=!0}},scopedSlots:t._u([{key:"title",fn:function(){return[t.shopperActive.length>0?n("van-tag",{attrs:{color:"#ffe922"}},[t._v(t._s(t.shopperActive[0].tag))]):t._e(),t.shopperActive.length>0?n("span",{staticClass:"active-title"},[t._v(" "+t._s(t.shopperActive[0].contents))]):t._e(),n("span",{staticClass:"active-title",staticStyle:{"font-size":"12px",color:"darkgray",display:"block",float:"right"}},[t._v(t._s(t.shopperActive.length)+"个优惠")])]},proxy:!0}])})],1)],1),n("van-action-sheet",{attrs:{title:"优惠活动"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("div",{staticClass:"content"},t._l(t.shopperActive,(function(e,i){return n("van-cell",{key:i,attrs:{center:""},scopedSlots:t._u([{key:"title",fn:function(){return[n("van-tag",{attrs:{color:"#ffe922"}},[t._v(t._s(e["tag"]))]),n("span",{staticClass:"active-title"},[t._v(" "+t._s(e.contents))])]},proxy:!0}],null,!0)})})),1)]),n("div",{staticClass:"middle"},[n("van-tabs",{attrs:{"title-active-color":"#4aa478",sticky:""}},[n("van-tab",{attrs:{title:" 点餐 "}},[n("van-tree-select",{attrs:{height:"62vh",items:t.foodCategory,"main-active-index":t.activeKey},on:{"update:mainActiveIndex":function(e){t.activeKey=e},"update:main-active-index":function(e){t.activeKey=e}},scopedSlots:t._u([{key:"content",fn:function(){return[n("div",{staticClass:"foodInfo"},t._l(t.foodInfo,(function(e,i){return n("van-card",{key:i,attrs:{price:"9.00",desc:e.info,thumb:t.baseUrl+"/"+e.photo},scopedSlots:t._u([{key:"title",fn:function(){return[n("b",[t._v(t._s(e.name))])]},proxy:!0},{key:"tags",fn:function(){return[n("a",{staticStyle:{"font-size":"8px"}},[t._v("月销售86份 好评率100%")])]},proxy:!0},{key:"num",fn:function(){return[t.toggleInput(e.id)?n("van-stepper",{attrs:{theme:"round",min:0,"button-size":"20","disable-input":""},on:{plus:function(n){return t.pushShoppingCar(e.id)},minus:function(n){return t.minusShoppingCar(e.id)}}}):n("van-icon",{attrs:{name:"add",color:"#4aa478",size:"20"},on:{click:function(n){return t.pushShoppingCar(e.id)}}})]},proxy:!0}],null,!0)})})),1)]},proxy:!0}])}),n("div",{staticStyle:{width:"100vw",height:"6vh"}}),n("van-submit-bar",{attrs:{price:100*t.priceAll,"button-text":"提交订单"},scopedSlots:t._u([{key:"button",fn:function(){return[t.priceAll>=t.shopperDetails.minPrice?n("van-button",{attrs:{type:"primary",round:""},on:{click:t.submitOrder}},[t._v("提交订单")]):n("van-button",{attrs:{type:"primary",disabled:"",round:""}},[t._v("满"+t._s(t.shopperDetails.minPrice)+"起送")])]},proxy:!0}])},[n("van-icon",{attrs:{name:"cart",badge:t.countAll,color:"#4aa478",size:"40"}})],1)],1),n("van-tab",{attrs:{title:" 评价 "}},[n("van-row",{attrs:{type:"flex",justify:"center"}},[n("van-col",{attrs:{span:"24"}},[n("div",{staticClass:"score-title"},[n("div",{staticClass:"score-title-left"},[n("ul",[n("li",{staticStyle:{"font-size":"25px","font-weight":"bolder",color:"orange"}},[t._v(t._s(t.shopperDetails.score))]),n("li",[n("b",[t._v("综合评分")])]),n("li",{staticStyle:{"font-size":"5px",color:"darkgray"}},[t._v("高于周边商家的99%")])])]),n("div",{staticClass:"score-title-right"},[n("ul",[n("li",[n("van-rate",{attrs:{value:t.shopperDetails.serviceScore,"allow-half":"","void-icon":"star","void-color":"#eee",size:"16"}}),n("span",{staticStyle:{"font-size":"10px",margin:"3vw"}},[t._v("服务评分 "+t._s(t.shopperDetails.serviceScore))])],1),n("li",[n("van-rate",{attrs:{value:t.shopperDetails.goodsScore,"allow-half":"","void-icon":"star","void-color":"#eee",size:"16"}}),n("span",{staticStyle:{"font-size":"10px",margin:"3vw"}},[t._v("商品评分 "+t._s(t.shopperDetails.goodsScore))])],1),n("li",[n("b",{staticStyle:{"margin-right":"3vw","font-size":"14px"}},[t._v("送达时间")]),n("a",{staticStyle:{color:"darkgray","font-size":"12px"}},[t._v(t._s(t.shopperDetails.deliveryTime)+"分钟")])])])]),n("div",{staticStyle:{clear:"both"}})])])],1),n("div",{staticStyle:{"margin-left":"3vw","margin-bottom":"5vw"}},[n("van-radio-group",{attrs:{direction:"horizontal","checked-color":"#4aa478"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[n("van-radio",{attrs:{name:"2","icon-size":"16px"}},[t._v("全部")]),n("van-radio",{attrs:{name:"1","icon-size":"16px"}},[t._v("只看好评")]),n("van-radio",{attrs:{name:"0","icon-size":"16px"}},[t._v("只看差评")])],1)],1),n("div",{staticClass:"speak"},t._l(t.fitterSpeaking,(function(e,i){return n("van-card",{key:i,scopedSlots:t._u([{key:"thumb",fn:function(){return[n("van-image",{attrs:{round:"",width:"10vw",height:"10vw",src:"https://img01.yzcdn.cn/vant/cat.jpeg"}})]},proxy:!0},{key:"title",fn:function(){return[n("div",{staticStyle:{"font-size":"12px","margin-top":"2vw"}},[t._v(t._s(e.account))])]},proxy:!0},{key:"desc",fn:function(){return[n("ul",{staticStyle:{"margin-top":"2vw"}},[n("li",[n("van-rate",{attrs:{value:e.score/10,"allow-half":"","void-icon":"star","void-color":"#eee",size:"16"}}),n("van-tag",{attrs:{plain:"",type:"warning"}},[t._v(t._s(e.score/10)+"分")]),1==e.isGood?n("van-tag",{attrs:{type:"success"}},[t._v("好评")]):n("van-tag",{attrs:{type:"danger"}},[t._v("差评")])],1),n("li",[n("p",[t._v(t._s(e.comments))])])])]},proxy:!0},{key:"footer",fn:function(){return[n("div",{staticStyle:{color:"darkgray"}},[t._v(" "+t._s(e.oederTime)+" ")])]},proxy:!0}],null,!0)})})),1)],1),n("van-tab",{attrs:{title:" 商家 "}},[n("van-card",{scopedSlots:t._u([{key:"title",fn:function(){return[n("h2",[t._v("配送信息")])]},proxy:!0},{key:"tags",fn:function(){return[n("van-tag",{attrs:{type:"danger"}},[t._v("联想外卖")]),n("span",{staticStyle:{"line-height":"25px","margin-left":"2vw"}},[t._v("由商家配送提供配送，约"+t._s(t.shopperDetails.deliveryTime)+"分钟送达，距离"+t._s(t.shopperDetails.distance)+"米，配送费￥"+t._s(t.shopperDetails.transportationPrice))])]},proxy:!0}])}),n("van-card",{scopedSlots:t._u([{key:"title",fn:function(){return[n("h2",[t._v("活动与服务")])]},proxy:!0},{key:"tags",fn:function(){return t._l(t.shopperActive,(function(e,i){return n("div",{key:i},[n("van-tag",{attrs:{type:"primary"}},[t._v(t._s(e.tag))]),n("span",{staticStyle:{"line-height":"25px","margin-left":"2vw"}},[t._v(t._s(e.contents))])],1)}))},proxy:!0}])}),n("van-card",{scopedSlots:t._u([{key:"title",fn:function(){return[n("h2",[t._v("商家实景")])]},proxy:!0},{key:"tags",fn:function(){return[n("van-row",{attrs:{gutter:"20"}},t._l(3,(function(t,e){return n("van-col",{key:e,attrs:{span:"8"}},[n("van-image",{attrs:{src:"https://img01.yzcdn.cn/vant/cat.jpeg"}})],1)})),1)]},proxy:!0}])})],1)],1)],1)],1)},F=[],W=(n("a434"),n("b0c0"),{name:"shopper",props:["id"],data:function(){return{baseUrl:"http://47.95.13.193:80/takeOutSystem-1.0-SNAPSHOT",shopperDetails:[],shopperActive:[],show:!1,activeKey:0,foodCategory:[],foodInfo:[],shoppingCar:[],speaking:[],radio:"2"}},computed:Object(f["a"])(Object(f["a"])({},Object(_["b"])(["isLogin","loginUser"])),{},{toggleInput:function(){return function(t){for(var e in this.shoppingCar)if(t==this.shoppingCar[e].foodId)return!0;return!1}},countAll:function(){var t=0;for(var e in this.shoppingCar)t+=this.shoppingCar[e].buyCount;return t},priceAll:function(){var t=0;for(var e in this.shoppingCar)t+=this.shoppingCar[e].buyCount;return 9*t},fitterSpeaking:function(){var t=[],e=[];for(var n in this.speaking)0==this.speaking[n].isGood?e.push(this.speaking[n]):t.push(this.speaking[n]);return 0==this.radio?e:1==this.radio?t:this.speaking}}),watch:{activeKey:function(){this.getFoodInfo()}},created:function(){this.getShopperDetails(),this.getShopperActive(),this.getFoodCategory(),this.getFoodInfo(),this.getSpeaking(),this.$store.commit("ifIsLogin")},methods:{submitOrder:function(){var t=this;0==this.isLogin?this.$dialog.confirm({title:"提示",message:"您还未登录，请先登录！"}).then((function(){console.log(1),t.$router.push({path:"/Login"})})).catch((function(){console.log(0)})):this.$dialog.confirm({title:"提示",message:"您确定要提交吗"}).then((function(){var e={userId:Number(t.loginUser.id),shopId:Number(t.id),list:t.shoppingCar};console.log(e),t.$axios.post("/biz/insertOrder",e).then((function(e){console.log(e.data),1==e.data?(t.$toast.success("提交成功！"),t.$router.push({path:"/Order"})):t.$toast.fail("提交失败！")}))})).catch((function(){t.$toast("你再想想吧！")}))},getSpeaking:function(){var t=this;this.$axios.get("/biz/queryCommentByShopId?shopId="+this.id).then((function(e){t.speaking=e.data}))},pushShoppingCar:function(t){for(var e in this.shoppingCar)if(t==this.shoppingCar[e].foodId)return void this.$set(this.shoppingCar[e],"buyCount",this.shoppingCar[e].buyCount+=1);this.shoppingCar.push({foodId:t,buyCount:1,shopId:Number(this.id)})},minusShoppingCar:function(t){for(var e in this.shoppingCar)t==this.shoppingCar[e].foodId&&(1==this.shoppingCar[e].buyCount?this.shoppingCar.splice(e,1):this.$set(this.shoppingCar[e],"buyCount",this.shoppingCar[e].buyCount-=1))},onClickLeft:function(){this.$router.go(-1)},getShopperDetails:function(){var t=this;this.$axios.get("/biz/queryInfoByShopId?shopId="+this.id).then((function(e){t.shopperDetails=e.data}))},getShopperActive:function(){var t=this;this.$axios.get("/biz/querySpecialOfferByShopId?shopId="+this.id).then((function(e){t.shopperActive=e.data}))},getFoodCategory:function(){var t=this;this.$axios.get("/biz/queryFoodCategory?id="+this.id).then((function(e){for(var n in t.foodCategory=e.data,t.foodCategory)t.foodCategory[n].text=t.foodCategory[n].name}))},getFoodInfo:function(){var t=this;this.$axios.get("biz/queryFoodinfoByShopIdAndFoodCategoryId?shopId="+this.id+"&foodcategoryId="+this.activeKey).then((function(e){t.foodInfo=e.data}))}}}),K=W,V=(n("ca6f"),Object(c["a"])(K,E,F,!1,null,"34688b8f",null)),J=V.exports,G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"login"}},[n("van-nav-bar",{attrs:{"left-text":"返回","left-arrow":"",placeholder:""},on:{"click-left":t.onClickLeft}}),t._m(0),n("van-row",[n("van-col",{attrs:{offset:"2",span:"20"}},[n("van-tabs",{attrs:{animated:"",swipeable:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[n("van-tab",{attrs:{title:"登录","title-style":"font-size:20px"}},[n("van-form",{on:{submit:t.onLogin}},[n("van-field",{attrs:{name:"用户名",label:"用户名",placeholder:"用户名",clearable:"",center:"",rules:[{required:!0,message:"请填写用户名"}]},model:{value:t.loginUser.username,callback:function(e){t.$set(t.loginUser,"username",e)},expression:"loginUser.username"}}),n("van-field",{attrs:{type:t.togglePwd,name:"密码",label:"密码",clearable:"",center:"",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},scopedSlots:t._u([{key:"extra",fn:function(){return[n("van-switch",{attrs:{size:"20","active-color":"#00a67c"},model:{value:t.loginUser.switchChecked,callback:function(e){t.$set(t.loginUser,"switchChecked",e)},expression:"loginUser.switchChecked"}})]},proxy:!0}]),model:{value:t.loginUser.password,callback:function(e){t.$set(t.loginUser,"password",e)},expression:"loginUser.password"}}),n("van-field",{attrs:{name:"验证码",label:"验证码",center:"",placeholder:"验证码",rules:[{required:!0,message:"请填写验证码"}]},scopedSlots:t._u([{key:"extra",fn:function(){return[n("div",{on:{click:function(e){return e.stopPropagation(),t.refreshCode()}}},[n("sIdentify",{attrs:{identifyCode:t.identifyCode}})],1)]},proxy:!0}]),model:{value:t.loginUser.identify,callback:function(e){t.$set(t.loginUser,"identify",e)},expression:"loginUser.identify"}}),n("div",{staticStyle:{margin:"20px"}},[n("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit",color:"#00a67c"}},[t._v("提交")])],1)],1)],1),n("van-tab",{attrs:{title:"注册","title-style":"font-size:20px"}},[n("van-form",{on:{submit:t.onRegister}},[n("van-field",{attrs:{name:"账号",label:"账号",placeholder:"账号",clearable:"",center:"",rules:[{required:!0,message:"请填写账号"}]},model:{value:t.registerUser.username,callback:function(e){t.$set(t.registerUser,"username",e)},expression:"registerUser.username"}}),n("van-field",{attrs:{name:"用户名",label:"用户名",placeholder:"用户名",clearable:"",center:"",rules:[{required:!0,message:"请填写用户名"}]},model:{value:t.registerUser.name,callback:function(e){t.$set(t.registerUser,"name",e)},expression:"registerUser.name"}}),n("van-field",{attrs:{type:t.toggleRegisterPwd,name:"密码",label:"密码",clearable:"",center:"",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},scopedSlots:t._u([{key:"extra",fn:function(){return[n("van-switch",{attrs:{size:"20","active-color":"#00a67c"},model:{value:t.registerUser.switchChecked,callback:function(e){t.$set(t.registerUser,"switchChecked",e)},expression:"registerUser.switchChecked"}})]},proxy:!0}]),model:{value:t.registerUser.password,callback:function(e){t.$set(t.registerUser,"password",e)},expression:"registerUser.password"}}),n("van-field",{attrs:{type:t.toggleRegisterPwdOnce,name:"确认密码",label:"确认密码",clearable:"",center:"",placeholder:"确认密码",rules:[{required:!0,message:"请输入确认密码"}]},scopedSlots:t._u([{key:"extra",fn:function(){return[n("van-switch",{attrs:{size:"20","active-color":"#00a67c"},model:{value:t.registerUser.switchCheckedOnce,callback:function(e){t.$set(t.registerUser,"switchCheckedOnce",e)},expression:"registerUser.switchCheckedOnce"}})]},proxy:!0}]),model:{value:t.registerUser.passwordOnce,callback:function(e){t.$set(t.registerUser,"passwordOnce",e)},expression:"registerUser.passwordOnce"}}),n("div",{staticStyle:{margin:"20px"}},[n("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit",color:"#00a67c"}},[t._v("注册")])],1)],1)],1)],1)],1)],1)],1)},Q=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title"},[n("h1",[t._v("硅谷外卖")])])}],X=(n("498a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"s-canvas"},[n("canvas",{attrs:{id:"s-canvas",width:t.contentWidth,height:t.contentHeight}})])}),Y=[],Z=(n("cb29"),{name:"SIdentify",props:{identifyCode:{type:String,default:"1234"},fontSizeMin:{type:Number,default:25},fontSizeMax:{type:Number,default:35},backgroundColorMin:{type:Number,default:200},backgroundColorMax:{type:Number,default:220},dotColorMin:{type:Number,default:60},dotColorMax:{type:Number,default:120},contentWidth:{type:Number,default:116},contentHeight:{type:Number,default:38}},methods:{randomNum:function(t,e){return Math.floor(Math.random()*(e-t)+t)},randomColor:function(t,e){var n=this.randomNum(t,e),i=this.randomNum(t,e),r=this.randomNum(t,e);return"rgb("+n+","+i+","+r+")"},drawPic:function(){var t=document.getElementById("s-canvas"),e=t.getContext("2d");e.textBaseline="bottom",e.fillStyle=this.randomColor(this.backgroundColorMin,this.backgroundColorMax),e.fillRect(0,0,this.contentWidth,this.contentHeight);for(var n=0;n<this.identifyCode.length;n++)this.drawText(e,this.identifyCode[n],n);this.drawLine(e),this.drawDot(e)},drawText:function(t,e,n){t.fillStyle=this.randomColor(50,160),t.font=this.randomNum(this.fontSizeMin,this.fontSizeMax)+"px SimHei";var i=(n+1)*(this.contentWidth/(this.identifyCode.length+1)),r=this.randomNum(this.fontSizeMax,this.contentHeight-5),o=this.randomNum(-30,30);t.translate(i,r),t.rotate(o*Math.PI/180),t.fillText(e,0,0),t.rotate(-o*Math.PI/180),t.translate(-i,-r)},drawLine:function(t){for(var e=0;e<4;e++)t.strokeStyle=this.randomColor(100,200),t.beginPath(),t.moveTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.lineTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.stroke()},drawDot:function(t){for(var e=0;e<30;e++)t.fillStyle=this.randomColor(0,255),t.beginPath(),t.arc(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight),1,0,2*Math.PI),t.fill()}},watch:{identifyCode:function(){this.drawPic()}},mounted:function(){this.drawPic()}}),tt=Z,et=Object(c["a"])(tt,X,Y,!1,null,null,null),nt=et.exports,it={name:"login",components:{sIdentify:nt},data:function(){return{active:0,identifyCode:"",loginUser:{username:"",password:"",switchChecked:!1,identify:""},registerUser:{username:"",name:"",password:"",passwordOnce:"",switchChecked:!1,switchCheckedOnce:!1}}},created:function(){this.refreshCode()},computed:{togglePwd:function(){return this.loginUser.switchChecked?"":"password"},toggleRegisterPwd:function(){return this.registerUser.switchChecked?"":"password"},toggleRegisterPwdOnce:function(){return this.registerUser.switchCheckedOnce?"":"password"}},methods:{refreshCode:function(){var t=this;this.$axios.get("/user/sendCaptcha").then((function(e){t.identifyCode=e.data+""}))},onRegister:function(t){var e=this;if(console.log("submit",t),this.registerUser.username=t["账号"].trim(),this.registerUser.name=t["用户名"].trim(),this.registerUser.password=t["密码"].trim(),this.registerUser.passwordOnce=t["确认密码"].trim(),""!=this.registerUser.username&&""!=this.registerUser.name&&""!=this.registerUser.password&&""!=this.registerUser.passwordOnce)if(this.registerUser.password==this.registerUser.passwordOnce){var n={account:this.registerUser.username,name:this.registerUser.name,password:this.registerUser.password};this.$axios.post("/user/register",n).then((function(t){console.log(t.data),"account is exit"==t.data?e.$toast.fail("账号已存在！"):"register success"==t.data?(e.$toast.success("注册成功"),e.active=0):e.$toast.fail("注册失败！")}))}else this.$toast.fail("两次密码不一致！");else this.$toast.fail("每项不能为空！")},onLogin:function(t){var e=this;if(console.log("submit",t),this.loginUser.username=t["用户名"].trim(),this.loginUser.password=t["密码"].trim(),this.loginUser.identify=t["验证码"].trim(),""!=this.loginUser.username&&""!=this.loginUser.password){var n={account:this.loginUser.username,password:this.loginUser.password};this.loginUser.identify==this.identifyCode?this.$axios.post("/user/login",n).then((function(t){console.log(t),""!=t.data?(t.data=JSON.stringify(t.data),localStorage.setItem("loginUser",t.data),e.$toast.success("登陆成功"),e.$router.go(-1)):e.$toast.fail("用户名或密码不正确！")}),(function(){e.$toast.fail("登陆失败")})):this.$toast.fail("验证码错误")}},onClickLeft:function(){this.$router.go(-1)}}},rt=it,ot=(n("13cd"),Object(c["a"])(rt,G,Q,!1,null,"e4c9a98c",null)),st=ot.exports;i["a"].use(p["a"]);var at=[{path:"/",component:w,name:"index"},{path:"/Search",component:z,name:"search"},{path:"/Order",component:q,name:"order"},{path:"/Me",component:B,name:"me"},{path:"/Shopper/:id",component:J,name:"shopper",props:!0},{path:"/Login",component:st,name:"login"}],ct=new p["a"]({routes:at}),lt=ct;i["a"].use(_["a"]);var ut=new _["a"].Store({state:{isLogin:0,loginUser:""},mutations:{ifIsLogin:function(t){var e=localStorage.getItem("loginUser");""!=e&&null!=e&&(e=JSON.parse(e),t.loginUser=e,t.isLogin=1)},ifIsLogout:function(t){t.isLogin=0,t.loginUser="",localStorage.removeItem("loginUser")}},actions:{},modules:{}}),pt=n("b970"),ht=(n("157a"),n("bc3a")),dt=n.n(ht);n("833e");i["a"].use(pt["a"]),i["a"].prototype.$axios=dt.a.create({baseURL:"http://47.95.13.193:80/takeOutSystem-1.0-SNAPSHOT"}),i["a"].config.productionTip=!1,new i["a"]({router:lt,store:ut,render:function(t){return t(u)}}).$mount("#app")},ca6f:function(t,e,n){"use strict";n("f4e4")},cdff:function(t,e,n){"use strict";n("1ad9")},f4e4:function(t,e,n){}});
//# sourceMappingURL=app.fc39cf5b.js.map